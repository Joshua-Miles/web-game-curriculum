<!-- index.html -->
<html>
    <body>
        <script>
            
            class GameObject {

                constructor(options){
                    this.element = document.createElement('img')
                    this.element.src = options.src
                    this.element.style.position = 'absolute'
                    this.element.style.left = options.left
                    this.element.style.bottom = options.bottom
                    this.element.style.width = options.width
                    
                    document.body.append(this.element)
                }

            }


            class Character extends GameObject {

                constructor(){
                    super({
                        src: 'https://res.cloudinary.com/triframe/image/upload/v1548570880/Game-Track/Assets/static.gif',
                        width: '75px',
                        left: '200px',
                        bottom: '200px'
                    })

                    this.direction = false
                    setInterval( () => {
                        if(this.direction == 'right'){
                            this.element.style.left = parseInt(this.element.style.left) + 1 + 'px'
                        } 
                        if(this.direction == 'left'){
                            this.element.style.left = parseInt(this.element.style.left) - 1 + 'px'
                        } 
                        if(this.direction == 'up'){
                            this.element.style.bottom = parseInt(this.element.style.bottom) + 1 + 'px'
                        } 
                        if(this.direction == 'down'){
                            this.element.style.bottom = parseInt(this.element.style.bottom) - 1 + 'px'
                        } 
                    }, 1)    
                }

                walkRight(){
                    this.element.src = 'https://res.cloudinary.com/triframe/image/upload/v1548570880/Game-Track/Assets/walkright.gif'
                    this.direction = 'right'
                }

                walkLeft(){
                    this.element.src = 'https://res.cloudinary.com/triframe/image/upload/v1548570880/Game-Track/Assets/walkleft.gif'
                    this.direction = 'left'
                }

                walkUp(){
                    this.element.src = 'https://res.cloudinary.com/triframe/image/upload/v1548570880/Game-Track/Assets/walkup.gif'
                    this.direction = 'up'
                }

                walkDown(){
                    this.element.src = 'https://res.cloudinary.com/triframe/image/upload/v1548570880/Game-Track/Assets/walkdown.gif'
                    this.direction = 'down'
                }


                stop(){
                    this.element.src = 'https://res.cloudinary.com/triframe/image/upload/v1548570880/Game-Track/Assets/static.gif'
                    this.direction = false
                }


            }


            let character= new Character

            document.addEventListener('keydown', function(e){
                if(character.direction) return
                if(e.key == 'ArrowRight'){
                    character.walkRight()
                }
                if(e.key == 'ArrowLeft'){
                    character.walkLeft()
                }
                if(e.key == 'ArrowUp'){
                    character.walkUp()
                }
                if(e.key == 'ArrowDown'){
                    character.walkDown()
                }
            })

            document.addEventListener('keyup', function(){
                character.stop()
            })
        </script>
    </body>
</html>